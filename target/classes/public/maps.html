<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=yes">
    <meta http-equiv="Content-type" content="text/html;charset=UTF-8">
    
    <title>Map at a specified location</title>
    <link rel="stylesheet" type="text/css" href="https://js.api.here.com/v3/3.1/mapsjs-ui.css" />
    <link rel="stylesheet" type="text/css" href="./css/maps.css" />
    <script src="http://code.jquery.com/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="https://js.api.here.com/v3/3.1/mapsjs-core.js"></script>
    <script type="text/javascript" src="https://js.api.here.com/v3/3.1/mapsjs-service.js"></script>
    <script type="text/javascript" src="https://js.api.here.com/v3/3.1/mapsjs-ui.js"></script>
    <script type="text/javascript" src="https://js.api.here.com/v3/3.1/mapsjs-mapevents.js"></script>

  <body id="markers-on-the-map">
      <button onClick="displayDirections()">click me</button>
    
    <h3>Route</h3>
            Starting: <input type="text" name="Starting" id = "starting">  <br>
            Destination: <input type = "text" name = "Destination" id = "destination">
            <button onClick="calculateRoute(); calculateRoute2();">Search</button>
    
    <p>
        The <code>map.setCenter()</code> method and <code>map.setZoom() </code>method are able to control the location of the map.<br>
    </p>
    <div id="mapContainer"></div>
    <script type="text/javascript" src='navigation.js'></script>
  </body>
  <script>


      function calculateRoute(){
          var starting = document.getElementById("starting").value;
          starting.split(' ').join('+');
          var key = 'AIzaSyBJaQsndPP7AUaV2_G3eYZnsN3Woiw7OCY';
          var endpoint = 'https://maps.googleapis.com/maps/api/geocode/json?address='+starting+',+CA&key='+key;
          $.ajax({
            type: 'GET',
            url: endpoint
        })
        .done(function(data) {
            console.log(JSON.stringify(data.results[0].geometry.location));
        })
        .fail(function(data) {
            console.log("Failed" + JSON.stringify(data));
        });
      }

      function calculateRoute2(){
          var ending = document.getElementById("destination").value;
          ending.split(' ').join('+');
          var key = 'AIzaSyBJaQsndPP7AUaV2_G3eYZnsN3Woiw7OCY';
          console.log(ending);
          var endpoint = 'https://maps.googleapis.com/maps/api/geocode/json?address='+ending+',+CA&key='+key;
          console.log(endpoint);        
          $.ajax({
            type: 'GET',
            url: endpoint
        })
        .done(function(data) {
            console.log(JSON.stringify(data.results[0].geometry.location));
        })
        .fail(function(data) {
            console.log("Failed" + JSON.stringify(data));
        });
      }
  </script>
</html>
